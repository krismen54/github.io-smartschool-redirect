<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kies je Smartschool-platform</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        .platform-button {
            display: inline-block;
            margin: 20px;
            padding: 20px;
            font-size: 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            width: 200px;
            height: 100px;
        }
        .platform-button:hover {
            background-color: #45a049;
        }
    </style>
    <script>
        function redirectToPlatform() {
            // Haal het opgeslagen platform op uit localStorage
            var smartschoolDomain = localStorage.getItem('smartschoolDomain');

            // Haal ook de opgeslagen tool op uit localStorage
            var selectedTool = localStorage.getItem('selectedTool');

            if (smartschoolDomain) {
                // Definieer de pad en de URL's voor verschillende tools
                var paths = {
                    'ms-stream': '/Documents/Index/Index/courseID/32/ssID/2179', // MS Stream pad
                    'bookwidgets': '/Documents/Index/Index/courseID/32/parentID/1180/ssID/2179' // Bookwidgets pad
                };

                // Controleer welke tool is opgeslagen en bouw de URL op
                var path = paths[selectedTool] || paths['ms-stream']; // Standaard naar MS Stream als geen tool is geselecteerd
                var newURL = "https://" + smartschoolDomain + path;
                
                // Leid de gebruiker om
                window.location.href = newURL;
            } else {
                // Als er geen platform is opgeslagen, laat de gebruiker kiezen
                document.getElementById('platform-selection').style.display = 'block';
            }
        }

        function savePlatform(domain, tool) {
            // Sla het gekozen Smartschool-platform en tool op in localStorage
            localStorage.setItem('smartschoolDomain', domain);
            localStorage.setItem('selectedTool', tool);

            // Leid de gebruiker om naar het gekozen platform en tool
            redirectToPlatform();
        }

        // Automatisch controleren en doorverwijzen bij het laden van de pagina
        window.onload = redirectToPlatform;
    </script>
</head>
<body>
    <h1>Welkom! Kies je Smartschool-platform</h1>
    <div id="platform-selection" style="display: none;">
        <button class="platform-button" onclick="savePlatform('xplus.smartschool.be', 'ms-stream')">X plus MS Stream</button>
        <button class="platform-button" onclick="savePlatform('xplus.smartschool.be', 'bookwidgets')">X plus Bookwidgets</button>
        <button class="platform-button" onclick="savePlatform('campusleopoldsburg.smartschool.be', 'ms-stream')">Campus FLX MS Stream</button>
        <button class="platform-button" onclick="savePlatform('campusleopoldsburg.smartschool.be', 'bookwidgets')">Campus FLX Bookwidgets</button>
        <button class="platform-button" onclick="savePlatform('voxpelt.smartschool.be', 'ms-stream')">VOX Pelt MS Stream</button>
        <button class="platform-button" onclick="savePlatform('voxpelt.smartschool.be', 'bookwidgets')">VOX Pelt Bookwidgets</button>
    </div>
    <p>Je keuze wordt onthouden voor toekomstige bezoeken.</p>
</body>
</html>
